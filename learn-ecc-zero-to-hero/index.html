<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./style.css">
  <title>ECC For Cripto Noobs</title>
</head>
<body>
  <div class="container">
    <h1>Ethereum & Bitcoin Address Generator (secp256k1)</h1>

    <input id="privateKeyInput" type="text" placeholder="Enter private key (hex, 64 chars)" value="0000000000000000000000000000000000000000000000000000000000000001">
    <button id="generateBtn">Generate Address</button>

    <div id="output">
      <h2>Key Details</h2>
      <p><strong>Private Key:</strong> <span id="privateKey"></span></p>
      <p><strong>Public Key (full, uncompressed):</strong> <span id="publicKey"></span></p>
      <p><strong>Public Key X:</strong> <span id="publicKeyX"></span></p>
      <p><strong>Public Key Y:</strong> <span id="publicKeyY"></span></p>

      <h2>Derived Addresses</h2>
      <p><strong>Ethereum Address:</strong> <span id="ethAddress"></span></p>
      <p><strong>Bitcoin Legacy Address (P2PKH):</strong> <span id="btcLegacy"></span></p>
      <p><strong>Bitcoin SegWit Address (P2SH-P2WPKH):</strong> <span id="btcSegwit"></span></p>
    </div>

    <div id="explanation">
      <h2>📚 Learn: ECC & secp256k1</h2>
      <p><strong>Private Key:</strong> A random number between 1 and n-1 (n = curve order).</p>
      <p><strong>Public Key:</strong> Computed as <code>Q = k * G</code>, where:</p>
      <ul>
        <li><code>k</code>: private key</li>
        <li><code>G</code>: generator point of secp256k1</li>
        <li><code>Q</code>: public key point</li>
      </ul>
      <p><strong>Ethereum Address:</strong> last 20 bytes of <code>keccak256(X || Y)</code></p>
      <p><strong>Bitcoin Address (P2PKH):</strong> base58check(SHA256 -> RIPEMD160 -> prepend 0x00 -> checksum)</p>
      <p><strong>SegWit (P2SH-P2WPKH):</strong> script-hash of witness program</p>
    </div>

    <div id="signing">
      <h2>✍️ ECC Signing Demo</h2>
      <p>This section demonstrates how digital signatures work using ECDSA over the secp256k1 curve.</p>
      <ul>
        <li>🔐 <strong>Private Key:</strong> used to generate the signature</li>
        <li>📜 <strong>Message:</strong> any string you want to sign</li>
        <li>🧮 <strong>Hash:</strong> the message is hashed with SHA-256 before signing</li>
        <li>📌 <strong>Signature:</strong> a pair <code>{ r, s }</code> derived from the message hash and private key</li>
        <li>✅ <strong>Verification:</strong> confirms if the signature is valid using the public key</li>
      </ul>

      <input id="signerPrivateKey" type="text" placeholder="Enter private key (hex, 64 chars)" value="0000000000000000000000000000000000000000000000000000000000000001">
      <input id="messageInput" type="text" placeholder="Message to sign" />
      <button id="signBtn">Sign Message</button>
      <button id="verifyBtn">Verify Signature</button>
      <p><strong>Signature:</strong> <span id="signatureOutput"></span></p>
      <p><strong>Verification:</strong> <span id="verificationOutput"></span></p>
    </div>

    <div id="vanity">
      <h2>🎯 Vanity Address Generator</h2>
      <input id="vanityPrefix" type="text" placeholder="Prefix (e.g., 1BTC or 0xdead)" />
      <button id="vanityBtn">Start Generating</button>
      <button id="vanityStopBtn">Stop</button>
      
      <p><strong>Match Found:</strong> <span id="vanityOutput"></span></p>
      <p><strong>Attempts:</strong> <span id="vanityAttempts">0</span></p>
      <p><strong>Elapsed Time:</strong> <span id="vanityElapsed">0s</span></p>

      <div class="vanity-help">
        <h3>ℹ️ Address Type Reference</h3>
        <ul>
          <li><strong>Ethereum (0x...)</strong>: 20-byte address derived from <code>keccak256(pubkey)</code>. Commonly used for smart contracts and tokens on the Ethereum network.</li>
          <li><strong>P2PKH (starts with 1)</strong>: Bitcoin legacy address. Broad wallet support but higher fees and slower adoption.</li>
          <li><strong>P2SH-P2WPKH (starts with 3)</strong>: SegWit-compatible Bitcoin address. Lower fees and backward compatible.</li>
          <li><strong>Bech32/P2WPKH (starts with bc1q)</strong>: Native SegWit. Lower fees and faster validation, but older wallets may not support.</li>
          <li><strong>Taproot/P2TR (starts with bc1p)</strong>: Next-gen address type using Schnorr signatures. Used for enhanced privacy and scripting.</li>
        </ul>
        <p>Use vanity prefixes according to the address format above. For example: <code>0xabc</code>, <code>1doge</code>, <code>3cool</code>, <code>bc1q</code>, <code>bc1p</code>.</p>
      </div>
    </div>
  </div>

  <script type="module" src="./src/ecc-wallet.js"></script>
  <script type="module" src="./src/sign-verify.js"></script>
  <script type="module" src="./src/vanity-search.js"></script>
</body>
</html>
