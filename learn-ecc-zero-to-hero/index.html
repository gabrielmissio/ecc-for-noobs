<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learn Elliptic Curve Cryptography</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"> <!-- pico.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> <!-- github icoin -->
  <style>
    body {
      background: linear-gradient(to bottom right, #0f2027, #203a43, #2c5364);
      color: #f0f0f0;
      font-family: 'Segoe UI', sans-serif;
    }
    main {
      max-width: 960px;
      margin: auto;
      padding: 0.5rem 1.5rem;
      background: #ffffff10;
      border-radius: 16px;
      backdrop-filter: blur(12px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }
    section {
      margin-bottom: 3rem;
      padding: 1.5rem;
      border: 1px solid #ffffff20;
      border-radius: 12px;
      background-color: #1c1f26cc;
    }
    section h2 {
      margin-bottom: 1rem;
    }
    section article {
     padding-top: 0.5rem;
     padding-bottom: 0.5rem;
     /* margin: 0.5rem 0; */
     margin-bottom: 0;
     margin-top: 1.5rem;
    }
    section article h3 {
      margin-top: 0rem;
      margin-bottom: 0.5rem;
    }
    section article p {
      margin: 0.5rem 0;
    }
    #welcome {
      padding: 1rem;
    }
    #welcome h1 {
      margin-bottom: 1rem;
    }
    #vanityProgress {
      margin-bottom: 2rem;
    }
    #vanityProgress p {
      margin: 0.5rem 0;
    }
    input[type="text"] {
      background-color: #2c2f36;
      border: 1px solid #ffffff30;
      color: #ffffff;
    }
    button {
      background-color: #2563eb;
      color: white;
      border: none;
    }
    button:hover {
      background-color: #1e4ed8;
    }
    code {
      background-color: #333;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      color: #84fab0;
    }
    h1, h2, h3, h4 {
      color: #ffffff;
    }
    strong {
      color: #93c5fd;
    }
    summary {
      cursor: pointer;
    }
  </style>
</head>
<body>
  <main>
    <div id="welcome">
      <h1>📚 Learn Elliptic Curve Cryptography</h1>
      <p>This interactive educational tool helps you understand the foundations of modern cryptography used in Bitcoin, Ethereum, and other blockchain platforms. You'll explore key generation, address formats, message signing, and more — all based on the secp256k1 curve used in ECDSA (Elliptic Curve Digital Signature Algorithm).</p>
    </div>

    <section id="keygen">
      <h2>🔑 Key Generator</h2>
      <p><em>Every blockchain wallet starts here: a random private key. Learn how it creates a unique public key, and how public keys are transformed into addresses used by Bitcoin and Ethereum.</em></p>

      <input id="privateKeyInput" type="text" placeholder="Private key (hex, 64 chars)" value="0000000000000000000000000000000000000000000000000000000000000001">
      <button id="generateBtn">Generate Address</button>

      <article>
        <h3>Key Details</h3>
        <p><strong>Private Key:</strong> <span id="privateKey"></span></p>
        <p><strong>Public Key (Uncompressed):</strong> <span id="publicKey"></span></p>
        <p><strong>X:</strong> <span id="publicKeyX"></span></p>
        <p><strong>Y:</strong> <span id="publicKeyY"></span></p>
      </article>

      <article>
        <h3>Addresses</h3>
        <p><strong>Ethereum:</strong> <span id="ethAddress"></span></p>
        <p><strong>Bitcoin (P2PKH):</strong> <span id="btcLegacy"></span></p>
        <p><strong>Bitcoin (P2SH-P2WPKH):</strong> <span id="btcSegwit"></span></p>
      </article>
    </section>

    <section id="signing">
      <h2>✍️ Message Signing (ECDSA)</h2>
      <p><em>This section demonstrates how you can digitally sign a message using a private key and later verify it using a public key. This is a core concept behind blockchain transaction authenticity.</em></p>

      <input id="signerPrivateKey" type="text" placeholder="Private key (hex, 64 chars)" value="0000000000000000000000000000000000000000000000000000000000000001">
      <input id="messageInput" type="text" placeholder="Message to sign">
      <button id="signBtn">Sign</button>
      <button id="verifyBtn">Verify</button>
      <p><strong>Signature:</strong> <span id="signatureOutput"></span></p>
      <p><strong>Verification Result:</strong> <span id="verificationOutput"></span></p>
    </section>

    <section id="vanity">
      <h2>🎯 Vanity Address Generator</h2>
      <p><em>Vanity addresses are custom-looking blockchain addresses that start with chosen characters. Try generating one! It's an example of brute-force searching over many keypairs.</em></p>
  
      <input id="vanityPrefix" type="text" placeholder="Prefix (e.g. 0xabc or 1btc)">
      <button id="vanityBtn">Start</button>
      <button id="vanityStopBtn">Stop</button>
      <div id="vanityProgress">
        <p><strong>Result:</strong> <span id="vanityOutput"></span></p>
        <p><strong>Attempts:</strong> <span id="vanityAttempts">0</span></p>
        <p><strong>Time:</strong> <span id="vanityElapsed">0s</span></p>
      </div>
      <details>
        <summary>📘 What do prefixes mean?</summary>
        <ul>
          <li><strong>Ethereum (0x...)</strong>: 20-byte keccak256(pubkey)</li>
          <li><strong>P2PKH (1...)</strong>: Bitcoin legacy</li>
          <li><strong>P2SH (3...)</strong>: SegWit compat</li>
          <li><strong>bc1q...</strong>: Native SegWit</li>
          <li><strong>bc1p...</strong>: Taproot</li>
        </ul>
      </details>
    </section>

    <section id="how-it-works">
      <h2>🧠 How It Works</h2>
      <p>This section breaks down how each cryptographic operation is implemented under the hood. Whether you're new to blockchain or want to deepen your ECC understanding, these insights will help.</p>
      <ul>
        <li><strong>🔑 Key Generation:</strong> Your private key is just a number between 1 and n-1. From it, a public key is derived using elliptic curve multiplication: <code>Q = k × G</code>.</li>
        <li><strong>📬 Ethereum Address:</strong> Derived from the last 20 bytes of the keccak256 hash of the public key.</li>
        <li><strong>💸 Bitcoin Address:</strong> Derived using HASH160 (SHA256 + RIPEMD160), followed by Base58Check encoding.</li>
        <li><strong>✍️ Signing:</strong> A SHA256 hash of the message is signed using ECDSA, producing a signature pair <code>{ r, s }</code>.</li>
        <li><strong>✔️ Verification:</strong> The signature is validated using the public key against the message hash.</li>
        <li><strong>🎯 Vanity Generator:</strong> Repeats key generation until an address starts with your desired prefix — a fun demo of computational effort!</li>
      </ul>
    </section>

    <section id="about">
      <h2>📘 About This Tool</h2>
      <p>This educational playground was built to teach developers, students, and crypto enthusiasts how elliptic curve cryptography powers blockchain security — especially on secp256k1, used by both Bitcoin and Ethereum. It's interactive, transparent, and designed to build your intuition.</p>
      <p>If you're learning, inspect the code, tweak parameters, and try unexpected inputs — it's a safe space to experiment with crypto fundamentals. 🚀</p>
    </section>
  </main>

  <footer style="text-align: center; padding: 1.5rem 0; color: #aaa; font-size: 0.9rem;">
    <!-- <p style="margin-bottom: 0.5rem;">
      © 2025 <strong style="color: #f3f4f6;">Intellectual property is a joke</strong><br>
      Created by <a href="https://github.com/gabrielmissio" target="_blank" style="color: #60a5fa;">Gabriel Missio</a>
    </p>
     -->

    <p style="margin-bottom: 0.5rem;">© 2025 <strong style="color: #f3f4f6;">Intellectual property is a joke</strong></p>
  
    <p style="margin: 0rem 0;">
      <a href="https://github.com/gabrielmissio" target="_blank" style="color: #60a5fa; text-decoration: none; font-weight: 500;">
        <i class="fa fa-github"></i>
        View on GitHub
      </a>
    </p>
  </footer>

  <script type="module" src="./src/ecc-wallet.js"></script>
  <script type="module" src="./src/sign-verify.js"></script>
  <script type="module" src="./src/vanity-search.js"></script>
</body>
</html>
